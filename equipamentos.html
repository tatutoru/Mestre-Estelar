<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Equipamentos – Mestre Estelar</title>

  <!-- usa seu style.css existente -->
  <link rel="stylesheet" href="style.css">
  <style>
    /* pequenas correções locais que não conflitam com seu style.css */
    /* garante que tab-container use display controlled por JS (sem inline grid overrides) */
    .tab-container { display: none; }
    .tab-container.active { display: block; }
    /* garante que links internos não alterem visual dos slots */
    .item-link { display:inline-block; width:100%; height:100%; color:inherit; text-decoration:none; }
  </style>
</head>
<body>

  <div class="content">
    <h1>⚔️ Equipamentos Recomendados</h1>
    <p>Lista de equipamentos focados no ciclo Solar/Lunar, priorizando dano, ASPD e sustain.</p>

    <!-- ====== Equip window (exemplo) ====== -->
    <div class="equip-window">

      <!-- abas -->
      <div class="equip-tabs">
        <button class="tab active" data-tab="equip">Equip.</button>
        <button class="tab" data-tab="visual">Visual</button>
        <button class="tab" data-tab="cards">Cartas</button>
      </div>

      <!-- === Aba Equip (padrão visível) === -->
      <div class="tab-container active" id="tab-equip">
        <div class="equip-body">

          <!-- LEFT: col de slots -->
          <div class="slots-col">
            <div class="slot-row">
              <div class="slot-label">Topo</div>
              <div class="slot-box">
                <div class="item" data-id="19362">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/19362" alt="Elmo do Xogum">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/19362" alt="">
                      <div class="ro-tooltip-title">Elmo do Xogum</div>
                      <div class="ro-tooltip-line"></div>
                      <p>+15% Dano físico vs Neutro/Fogo<br>+5% ASPD (União Solar)</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="slot-row">
              <div class="slot-label">Baixo</div>
              <div class="slot-box">
                <div class="item" data-id="18754">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/18754" alt="Presas Vamíricas">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/18754" alt="">
                      <div class="ro-tooltip-title">Presas Vamíricas</div>
                      <div class="ro-tooltip-line"></div>
                      <p>+X Dano físico.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="slot-row">
              <div class="slot-label">Mão Direita</div>
              <div class="slot-box">
                <div class="item" data-id="28612">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/28612" alt="Apocalípse Ilusional">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/28612" alt="">
                      <div class="ro-tooltip-title">Apocalípse Ilusional</div>
                      <div class="ro-tooltip-line"></div>
                      <p>Bônus elemental.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="slot-row">
              <div class="slot-label">Capa</div>
              <div class="slot-box">
                <div class="item" data-id="20838">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/20838" alt="Sobrepeliz Ilusional">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/20838" alt="">
                      <div class="ro-tooltip-title">Sobrepeliz Ilusional</div>
                      <div class="ro-tooltip-line"></div>
                      <p>Bônus elemental.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="slot-row">
              <div class="slot-label">Acessório</div>
              <div class="slot-box">
                <div class="item" data-id="28303">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/28303" alt="Núcleo Vesper 02">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/28303" alt="">
                      <div class="ro-tooltip-title">Núcleo Vesper 02</div>
                      <div class="ro-tooltip-line"></div>
                      <p>Bônus elemental.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div> <!-- end left -->

          <!-- CENTER: quadro do boneco (tamanho de acordo com seu style.css) -->
          <div class="char-col">
            <div class="char-frame">
              <div class="char-sprite-bg" style="background-image:url('https://raw.githubusercontent.com/tatutoru/Mestre-Estelar/main/assets/Sprites/char-iddle.png');"></div>
            </div>
          </div>

          <!-- RIGHT: pode espelhar se quiser -->
          <div class="slots-col slots-col-right">
            <!-- exemplo: meio/armadura -->
            <div class="slot-row">
              <div class="slot-label">Meio</div>
              <div class="slot-box">
                <div class="item" data-id="19392">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/19392" alt="Presilha dos Amantes">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/19392" alt="">
                      <div class="ro-tooltip-title">Presilha dos Amantes [1]</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="slot-row">
              <div class="slot-label">Armadura</div>
              <div class="slot-box">
                <div class="item" data-id="15378">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/15378" alt="Couraça Magmática">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/15378" alt="">
                      <div class="ro-tooltip-title">Couraça Magmática [1]</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div> <!-- end right -->

        </div> <!-- end equip-body -->
      </div> <!-- end tab-equip -->

      <!-- === Aba Visual === -->
      <div class="tab-container" id="tab-visual">
        <div class="equip-body">
          <div class="slots-col">
            <!-- Conteúdo visual (mesma estrutura, só sem descrição) -->
            <div class="slot-row">
              <div class="slot-label">Meio</div>
              <div class="slot-box">
                <div class="item" data-id="19392">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/19392" alt="Presilha dos Amantes">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/19392" alt="">
                      <div class="ro-tooltip-title">Presilha dos Amantes [1]</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- mais visual slots... -->
          </div>

          <div class="char-col">
            <div class="char-frame">
              <div class="char-sprite-bg" style="background-image:url('https://raw.githubusercontent.com/tatutoru/Mestre-Estelar/main/assets/Sprites/char-iddle.png');"></div>
            </div>
          </div>

          <div class="slots-col slots-col-right"></div>
        </div>
      </div><!-- end tab-visual -->

      <!-- === Aba Cartas === -->
      <div class="tab-container" id="tab-cards">
        <div class="equip-body">
          <div class="slots-col">
            <div class="slot-row">
              <div class="slot-label">Carta Topo</div>
              <div class="slot-box">
                <div class="item" data-id="4132">
                  <div class="ro-tooltip" tabindex="0">
                    <img class="slot-icon" src="https://www.divine-pride.net/img/items/item/kROZ/4132" alt="Carta X">
                    <div class="ro-tooltip-box" role="tooltip">
                      <img src="https://www.divine-pride.net/img/items/collection/kROZ/4132" alt="">
                      <div class="ro-tooltip-title">Carta X</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- mais cartas... -->
          </div>

          <div class="char-col">
            <div class="char-frame">
              <div class="char-sprite-bg" style="background-image:url('https://raw.githubusercontent.com/tatutoru/Mestre-Estelar/main/assets/Sprites/char-iddle.png');"></div>
            </div>
          </div>

          <div class="slots-col slots-col-right"></div>
        </div>
      </div><!-- end tab-cards -->

    </div> <!-- end equip-window -->

  </div> <!-- end content -->


  <!-- ================= SCRIPTS ================= -->
  <script>
    // Abas para múltiplas equip-windows (eles usam data-tab -> #tab-{data-tab})
    document.querySelectorAll('.equip-window').forEach(windowEl => {
      const tabs = windowEl.querySelectorAll('.equip-tabs .tab');

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          // reset
          tabs.forEach(t => t.classList.remove('active'));
          windowEl.querySelectorAll('.tab-container').forEach(c => c.classList.remove('active'));

          // ativa a que corresponde ao data-tab
          tab.classList.add('active');
          const name = tab.dataset.tab;
          const container = windowEl.querySelector(`#tab-${name}`);
          if (container) container.classList.add('active');
        });
      });
    });

    // touch tooltips (mantém comportamento já usado)
    function initTooltipTouch(root = document) {
      root.querySelectorAll('.ro-tooltip').forEach(el=>{
        el.addEventListener('touchstart', function(e){
          root.querySelectorAll('.ro-tooltip.touch-open').forEach(o=>{ if(o!==el) o.classList.remove('touch-open'); });
          el.classList.toggle('touch-open');
        });
      });
      document.addEventListener('touchstart', function(e){
        if(!e.target.closest('.ro-tooltip')) {
          document.querySelectorAll('.ro-tooltip.touch-open').forEach(o=>o.classList.remove('touch-open'));
        }
      });
    }
    initTooltipTouch(document);

    // Aplica links automáticos sem perder event listeners (usa replaceChild)
    (function applyLinks(root = document) {
      const baseURL = "https://www.pathofisgard.com.br/database/item/";
      root.querySelectorAll('.item[data-id]').forEach(container => {
        if (container.querySelector(':scope > a.item-link')) return;
        const id = container.getAttribute('data-id');
        if (!id) return;
        const tooltipEl = container.querySelector('.ro-tooltip');
        if (!tooltipEl) return;
        const parent = tooltipEl.parentElement;
        if (parent && parent.tagName.toLowerCase() === 'a') return;

        const a = document.createElement('a');
        a.href = baseURL + id;
        a.target = '_blank';
        a.className = 'item-link';

        try {
          container.replaceChild(a, tooltipEl); // move preserving listeners
        } catch(e) {
          // fallback (menos ideal)
          container.appendChild(a);
        }
        a.appendChild(tooltipEl);
      });
    })(document);

  </script>

</body>
</html>
